//- @pugdoc
    name: popup
    options: 
        - {string} title
        - {string} titleHtml
        - {string} content
        - {string} contentHtml
        - {string} status
        - {string} statusHtml 
        - {bool} buttons       
        - {string} submitTitle
        - {string} cancelTitle        
        - {string} align
        - {string} width
        - {bool} spring
        - {bool} plain        
        - {bool} embed

- fastredRequire('arr', 'css', 'locale', 'template', 'var')

- submitTitle = varIsNotEmpty(options.submitTitle) ? options.submitTitle : localeGetStr('ok')
- cancelTitle = varIsNotEmpty(options.cancelTitle) ? options.cancelTitle : localeGetStr('cancel')
- align = arrGetFound(['client', 'middle'], options.align, null)
- width = arrGetFound(['s', 'l', 'xl'], options.width, null)
- attributes.class = cssBemClassArr(attributes.class, {'popup_align_': align, 'popup_spring': options.spring, 'popup_plain': options.plain, 'popup_width_': width, 'popup_embed': options.embed})

.popup&attributes(attributes)
    .popup__window        
        .popup__header
            .popup__title
                if varIsNotEmpty(options.titleHtml)
                    = options.titleHtml
                else
                    = options.title
            != templateToHtml('button', {icon: 'close', plain: true}, 'popup__close popup__hide')
        .popup__content
            if varIsNotEmpty(options.contentHtml)
                != options.contentHtml
            else
                = options.content
        .popup__footer
            .popup__status
                if varIsNotEmpty(options.statusHtml)
                    = options.statusHtml
                else
                    = options.status
            if options.buttons
                .popup__buttons
                    .toolbar.toolbar_plain.toolbar_nowrap
                        .toolbar__item!= templateToHtml('button', {title: submitTitle, main: true}, 'popup__submit')
                        .toolbar__item!= templateToHtml('button', {title: cancelTitle}, 'popup__cancel popup__hide')